<!DOCTYPE html>
<html lang="zh">
<head>
    <title>最小元素各数位之和</title>
    <link rel="shortcut icon" href="/static/favicon.ico">
    <link href="https://cdn.bootcdn.net/ajax/libs/twitter-bootstrap/5.1.0/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdn.bootcdn.net/ajax/libs/font-awesome/5.15.4/css/all.min.css" rel="stylesheet">
    <link rel="stylesheet" href="/static/detail.css">
</head>
<body>
    <div class="container mt-3">
        <header class="problem-header">
            <h1>最小元素各数位之和</h1>
        </header>
        <main>
            <article class="problem-content">
                <p>标签:
                    
                        <a href="/problems?tag=array" class="badge bg-secondary tag-link">数组</a>
                    
                        <a href="/problems?tag=math" class="badge bg-secondary tag-link">数学</a>
                    
                </p>
                <p>难度: <span class="badge bg-secondary">Easy</span></p>
                
            </article>

            <section>
                <h2>Submission</h2>
                <div class="code-block">
                    <p>运行时间: 27 ms</p>
                    <p>内存: 15.9 MB</p>
                    <pre class="bg-light p-2 code-pre">class Solution:
    def sumOfDigits(self, nums: List[int]) -&gt; int:
        min_v = float(&#39;inf&#39;)
        for num in nums:
            if num &lt; min_v:
                min_v = num
        
        sum_v = 0
        while min_v:
            sum_v += min_v % 10
            min_v = min_v // 10
        
        return 0 if sum_v % 2 == 1 else 1</pre>
                    <button class="btn btn-secondary copy-btn" onclick="copyCode(this)">复制代码</button>
                </div>
            </section>

            <section class="vote-buttons">
                <button id="like-button" class="btn btn-outline-success"><i class="fas fa-thumbs-up"></i><span id="like-count" class="vote-count">0</span></button>
                <button id="dislike-button" class="btn btn-outline-danger"><i class="fas fa-thumbs-down"></i><span id="dislike-count" class="vote-count">0</span></button>
            </section>

            
                <section class="explain-section">
                    <h2>Explain</h2>
                    <div class="card">
                        <div class="card-header" id="explainHeader">
                            <span class="mb-0">
                                <button class="btn btn-link btn-block text-start collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#explainCollapse" aria-expanded="false" aria-controls="explainCollapse">
                                     <i class="fas fa-chevron-down float-end"></i>
                                </button>
                            </span>
                        </div>
                        <div id="explainCollapse" class="collapse" aria-labelledby="explainHeader">
                            <div class="card-body">
                                <p>题解首先找到数组中的最小值。然后，将这个最小值的各个数位上的数字相加，得到一个总和。最后，根据这个总和的奇偶性返回结果：如果总和是奇数，则返回0；如果总和是偶数，则返回1。</p>
                                <p>时间复杂度: O(n + log(min_v))</p>
                                <p>空间复杂度: O(1)</p>
                                <pre class="bg-light p-2">class Solution:
    def sumOfDigits(self, nums: List[int]) -&gt; int:
        min_v = float(&#39;inf&#39;)  # 初始化最小值为无穷大
        for num in nums:  # 遍历数组找到最小值
            if num &lt; min_v:
                min_v = num
        
        sum_v = 0  # 初始化数位之和为0
        while min_v:  # 将最小值的每个数位分离并相加
            sum_v += min_v % 10  # 加上最低位
            min_v = min_v // 10  # 移除已经处理过的最低位
        
        return 0 if sum_v % 2 == 1 else 1  # 根据数位之和的奇偶性返回结果</pre>
                            </div>
                        </div>
                    </div>
                </section>
            

            
                <section class="explore-section">
                    <h2>Explore</h2>
                    <div class="accordion" id="exploreAccordion">
                        
                            <div class="card">
                                <div class="card-header" id="exploreHeader1">
                                    <span class="mb-0">
                                        <button class="btn btn-link btn-block text-start collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#exploreCollapse1" aria-expanded="false" aria-controls="exploreCollapse1">
                                            在这个算法中，你是如何确保找到的最小值是数组中的唯一最小值，或者为什么唯一性对结果没有影响？ <i class="fas fa-chevron-down float-end"></i>
                                        </button>
                                    </span>
                                </div>
                                <div id="exploreCollapse1" class="collapse" aria-labelledby="exploreHeader1" data-bs-parent="#exploreAccordion">
                                    <div class="card-body">
                                        <p>在这个算法中，不需要确保找到的最小值是数组中的唯一最小值。算法只关注找到任意一个最小值，并计算它的数位之和。无论最小值是否唯一，只要它是最小的，其数位之和的计算和结果（基于奇偶性决定返回0或1）都会是一致的。因此，最小值的唯一性对最终的结果没有影响。</p>
                                    </div>
                                </div>
                            </div>
                        
                            <div class="card">
                                <div class="card-header" id="exploreHeader2">
                                    <span class="mb-0">
                                        <button class="btn btn-link btn-block text-start collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#exploreCollapse2" aria-expanded="false" aria-controls="exploreCollapse2">
                                            对于空数组或非常特殊的输入，例如所有元素相同的数组，这个算法是否有特殊处理或者表现出某种特定的行为？ <i class="fas fa-chevron-down float-end"></i>
                                        </button>
                                    </span>
                                </div>
                                <div id="exploreCollapse2" class="collapse" aria-labelledby="exploreHeader2" data-bs-parent="#exploreAccordion">
                                    <div class="card-body">
                                        <p>在当前的算法实现中，如果输入数组为空，那么在尝试找到最小值时会存在问题，因为数组中没有元素可供比较和赋值，这可能导致运行时错误。对于所有元素相同的数组，算法将正常运行，因为每个元素的值都相同，算法会找到这个重复的最小值并正确计算其数位之和。然而，对于空数组的处理，理论上应该在算法中增加检查以避免错误。</p>
                                    </div>
                                </div>
                            </div>
                        
                            <div class="card">
                                <div class="card-header" id="exploreHeader3">
                                    <span class="mb-0">
                                        <button class="btn btn-link btn-block text-start collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#exploreCollapse3" aria-expanded="false" aria-controls="exploreCollapse3">
                                            在计算数位之和时，你是否考虑了非常大的数值？例如，最小值接近整数类型上限时，这种情况是否会影响算法的执行或结果？ <i class="fas fa-chevron-down float-end"></i>
                                        </button>
                                    </span>
                                </div>
                                <div id="exploreCollapse3" class="collapse" aria-labelledby="exploreHeader3" data-bs-parent="#exploreAccordion">
                                    <div class="card-body">
                                        <p>在Python中，整数类型可以是任意大的（只受限于可用内存），因此理论上算法可以处理非常大的数值。计算数位之和的过程中，将数值分解为个位数并相加，这个过程对于非常大的数也是有效的。因此，即使最小值接近整数类型的上限，算法仍然能够正确执行并得出结果。</p>
                                    </div>
                                </div>
                            </div>
                        
                            <div class="card">
                                <div class="card-header" id="exploreHeader4">
                                    <span class="mb-0">
                                        <button class="btn btn-link btn-block text-start collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#exploreCollapse4" aria-expanded="false" aria-controls="exploreCollapse4">
                                            为什么在计算数位之和后，选择根据奇偶性来返回0或1，这里的返回值有什么特殊的意义或应用背景吗？ <i class="fas fa-chevron-down float-end"></i>
                                        </button>
                                    </span>
                                </div>
                                <div id="exploreCollapse4" class="collapse" aria-labelledby="exploreHeader4" data-bs-parent="#exploreAccordion">
                                    <div class="card-body">
                                        <p>在这个算法中，返回数位之和的奇偶性（0表示奇数，1表示偶数）可能是基于特定的应用需求设计的。例如，这种设计可能用于决策支持系统中，其中奇偶性可能代表不同的分类或决策路径。具体的应用背景没有在问题描述中提及，但通常这样的设计是为了满足特定的业务逻辑或规则。</p>
                                    </div>
                                </div>
                            </div>
                        
                    </div>
                </section>
            

            
                <aside class="related-problems-section">
                    <h2>Related Problems</h2>
                    <div class="list-group">
                        
                            <a href="/problem/add-digits" class="list-group-item list-group-item-action">
                                各位相加
                            </a>
                        
                    </div>
                </aside>
            
        </main>

        <footer class="mt-4 mb-3">
            <div class="d-flex justify-content-between">
                <a href="/problems" class="btn btn-secondary">返回题目列表</a>
            </div>
        </footer>
    </div>
    <script src="https://cdn.bootcdn.net/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <script src="https://cdn.bootcdn.net/ajax/libs/twitter-bootstrap/5.1.0/js/bootstrap.bundle.min.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            fetchInitialCounts();
            setupEventListeners();
        });

        function fetchInitialCounts() {
            fetch('/api/vote_count/sum-of-digits-in-the-minimum-number')
                .then(response => response.json())
                .then(data => {
                    document.getElementById('like-count').textContent = data.likes;
                    document.getElementById('dislike-count').textContent = data.dislikes;
                })
                .catch(error => console.error('Error loading initial counts:', error));
        }

        function setupEventListeners() {
            document.getElementById('like-button').addEventListener('click', function() {
                updateVoteCounts('like');
            });

            document.getElementById('dislike-button').addEventListener('click', function() {
                updateVoteCounts('dislike');
            });

            const copyButtons = document.querySelectorAll('.copy-btn');
            copyButtons.forEach(btn => {
                btn.addEventListener('click', function() {
                    copyCode(this);
                });
            });
        }

        function updateVoteCounts(voteType) {
            const baseUrl = "/api/vote/sum-of-digits-in-the-minimum-number/PLACEHOLDER";
            const url = baseUrl.replace('PLACEHOLDER', voteType);

            fetch(url, { method: 'POST' })
                .then(response => response.json())
                .then(data => {
                    if (data.likes !== undefined) {
                        document.getElementById('like-count').textContent = data.likes;
                    }
                    if (data.dislikes !== undefined) {
                        document.getElementById('dislike-count').textContent = data.dislikes;
                    }
                })
                .catch(error => console.error('Error updating counts:', error));
        }

        function copyCode(button) {
            const codeBlock = button.previousElementSibling;
            const code = codeBlock.textContent;
            navigator.clipboard.writeText(code).then(function() {
                button.textContent = '已复制';
                setTimeout(function() {
                    button.textContent = '复制代码';
                }, 2000);
            }, function(err) {
                console.error('无法复制代码: ', err);
            });
        }
    </script>
</body>
</html>