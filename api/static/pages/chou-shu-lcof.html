<!DOCTYPE html>
<html lang="zh">
<head>
    <title>丑数</title>
    <link rel="shortcut icon" href="/static/favicon.ico">
    <link href="/static/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="/static/css/detail.css">
    <link rel="stylesheet" href="/static/css/github.css">
    <style>
        body {
            height: 100vh;
            display: flex;
            flex-direction: column;
        }
        .container-fluid {
            flex-grow: 1;
            display: flex;
            flex-direction: column;
        }
        main {
            flex-grow: 1;
        }
        .code-pre {
             white-space: pre-wrap;
             word-wrap: break-word;
        }
    </style>
</head>
<body>
    <div class="container-fluid mt-3">
        <header class="d-flex flex-column flex-md-row justify-content-md-between align-items-md-center mb-3">
            <a href="/problems" class="btn btn-secondary mb-2 mb-md-0">返回题目列表</a>
            <div class="text-md-end">
                <strong class="me-md-3 d-block d-md-inline mb-2 mb-md-0">丑数</strong>
                标签:
                
                    <a href="/problems?tag=hash-table" class="badge bg-secondary tag-link">哈希表</a>
                
                    <a href="/problems?tag=math" class="badge bg-secondary tag-link">数学</a>
                
                    <a href="/problems?tag=dynamic-programming" class="badge bg-secondary tag-link">动态规划</a>
                
                    <a href="/problems?tag=heap-priority-queue" class="badge bg-secondary tag-link">堆（优先队列）</a>
                
                &nbsp;&nbsp;
                难度: <span class="badge bg-secondary">Medium</span>
            </div>
        </header>

        <main>
            <section class="mb-4">
                <h2>Submission</h2>
                <div class="code-block">
                    <pre class="bg-light p-2 code-pre"><code class="language-python">class Solution:
    def nthUglyNumber(self, n: int) -&gt; int:
        dp = [1] * n
        a, b, c = 0, 0, 0
        for i in range(1, n):
            n2, n3, n5 = 2*dp[a], 3*dp[b], 5*dp[c]
            dp[i] = min(n2, n3, n5)
            if dp[i] == n2:
                a += 1
            if dp[i] == n3:
                b += 1
            if dp[i] == n5:
                c += 1
        return dp[-1]

if __name__ == &#39;__main__&#39;:
    s = Solution()
    s.nthUglyNumber(10)

</code></pre>
                    <button class="btn btn-sm btn-secondary copy-btn" onclick="copyCode(this)">复制代码</button>
                    <p class="mt-2 mb-0">运行时间: 140 ms</p>
                    <p class="mb-0">内存: 14.9 MB</p>
                </div>
            </section>

            
                <section>
                    <h2>Explain</h2>
                    <div>
                        <p>该题解采用了动态规划的方法来解决丑数问题。首先创建一个长度为 n 的数组 dp，其中 dp[i] 存储第 i+1 个丑数。初始化 dp[0] 为 1，因为 1 是第一个丑数。接着使用三个指针 a、b、c 分别指向数组中某个确定的位置，这些位置对应的元素乘以 2、3、5 后可以生成新的丑数。每次循环计算出三个可能的丑数 n2, n3, n5（分别为 dp[a]*2, dp[b]*3, dp[c]*5），取这三个数中最小的一个作为新的丑数添加到 dp 数组中。然后根据所选的丑数来更新对应的指针（如果新丑数等于 n2，则移动 a 指针；如果等于 n3，则移动 b 指针；如果等于 n5，则移动 c 指针）。这样可以保证数组 dp 按从小到大的顺序存储每一个丑数，直到填满。最后 dp[n-1] 就是第 n 个丑数。</p>
                        <p>时间复杂度: O(n)</p>
                        <p>空间复杂度: O(n)</p>
                        
                             <pre class="bg-light p-2 code-pre"><code class="language-python">class Solution:
    def nthUglyNumber(self, n: int) -&gt; int:
        dp = [1] * n  # 初始化dp数组，dp[i]表示第i+1个丑数
        a, b, c = 0, 0, 0  # 初始化三个指针，分别对应质因数2，3，5
        for i in range(1, n):
            n2, n3, n5 = 2*dp[a], 3*dp[b], 5*dp[c]  # 分别计算三个新的可能的丑数
            dp[i] = min(n2, n3, n5)  # 选择最小的一个作为新的丑数
            if dp[i] == n2:
                a += 1  # 如果选中的是2*dp[a]，则将指针a向前移动
            if dp[i] == n3:
                b += 1  # 如果选中的是3*dp[b]，则将指针b向前移动
            if dp[i] == n5:
                c += 1  # 如果选中的是5*dp[c]，则将指针c向前移动
        return dp[-1]  # 返回第n个丑数

if __name__ == &#39;__main__&#39;:
    s = Solution()
    s.nthUglyNumber(10)  # 测试函数</code></pre>
                        
                    </div>
                </section>
            
        </main>
    </div>
    <script src="/static/js/jquery.min.js"></script>
    <script src="/static/js/bootstrap.bundle.min.js"></script>
    <script src="/static/js/highlight.min.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const copyButtons = document.querySelectorAll('.copy-btn');
            copyButtons.forEach(btn => {
                btn.addEventListener('click', function() {
                    copyCode(this);
                });
            });
            hljs.highlightAll();
        });

        function copyCode(button) {
            const codeBlock = button.previousElementSibling;
            const code = codeBlock.textContent;
            navigator.clipboard.writeText(code).then(function() {
                button.textContent = '已复制';
                setTimeout(function() {
                    button.textContent = '复制代码';
                }, 2000);
            }, function(err) {
                console.error('无法复制代码: ', err);
            });
        }
    </script>
</body>
</html>