<!DOCTYPE html>
<html lang="zh">
<head>
    <title>加一</title>
    <link rel="shortcut icon" href="/static/favicon.ico">
    <link href="https://cdn.bootcdn.net/ajax/libs/twitter-bootstrap/5.1.0/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdn.bootcdn.net/ajax/libs/font-awesome/5.15.4/css/all.min.css" rel="stylesheet">
    <link rel="stylesheet" href="/static/detail.css">
</head>
<body>
    <div class="container mt-3">
        <header class="problem-header">
            <h1>加一</h1>
        </header>
        <main>
            <article class="problem-content">
                <p>标签:
                    
                        <a href="/problems?tag=array" class="badge bg-secondary tag-link">数组</a>
                    
                        <a href="/problems?tag=math" class="badge bg-secondary tag-link">数学</a>
                    
                </p>
                <p>难度: <span class="badge bg-secondary">Easy</span></p>
                
                    <div class="problem-description">
                        <p>给定一个由 <strong>整数 </strong>组成的<strong> 非空</strong> 数组所表示的非负整数，在该数的基础上加一。</p>

<p>最高位数字存放在数组的首位， 数组中每个元素只存储<strong>单个</strong>数字。</p>

<p>你可以假设除了整数 0 之外，这个整数不会以零开头。</p>

<p> </p>

<p><strong>示例 1：</strong></p>

<pre>
<strong>输入：</strong>digits = [1,2,3]
<strong>输出：</strong>[1,2,4]
<strong>解释：</strong>输入数组表示数字 123。
</pre>

<p><strong>示例 2：</strong></p>

<pre>
<strong>输入：</strong>digits = [4,3,2,1]
<strong>输出：</strong>[4,3,2,2]
<strong>解释：</strong>输入数组表示数字 4321。
</pre>

<p><strong>示例 3：</strong></p>

<pre>
<strong>输入：</strong>digits = [0]
<strong>输出：</strong>[1]
</pre>

<p> </p>

<p><strong>提示：</strong></p>

<ul>
	<li><code>1 <= digits.length <= 100</code></li>
	<li><code>0 <= digits[i] <= 9</code></li>
</ul>

                    </div>
                
            </article>

            <section>
                <h2>Submission</h2>
                <div class="code-block">
                    <p>运行时间: 40 ms</p>
                    <p>内存: 14.8 MB</p>
                    <pre class="bg-light p-2 code-pre">class Solution:
    def plusOne(self, digits: List[int]) -&gt; List[int]:
        digits = [0] + digits
        for i in range(len(digits)-1, -1, -1):
            if digits[i] != 9:
                digits[i] += 1
                break
            else:
                digits[i] = 0

        if digits[0] == 0:
            return digits[1:]
        else:
            return digits</pre>
                    <button class="btn btn-secondary copy-btn" onclick="copyCode(this)">复制代码</button>
                </div>
            </section>

            <section class="vote-buttons">
                <button id="like-button" class="btn btn-outline-success"><i class="fas fa-thumbs-up"></i><span id="like-count" class="vote-count">0</span></button>
                <button id="dislike-button" class="btn btn-outline-danger"><i class="fas fa-thumbs-down"></i><span id="dislike-count" class="vote-count">0</span></button>
            </section>

            
                <section class="explain-section">
                    <h2>Explain</h2>
                    <div class="card">
                        <div class="card-header" id="explainHeader">
                            <span class="mb-0">
                                <button class="btn btn-link btn-block text-start collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#explainCollapse" aria-expanded="false" aria-controls="explainCollapse">
                                     <i class="fas fa-chevron-down float-end"></i>
                                </button>
                            </span>
                        </div>
                        <div id="explainCollapse" class="collapse" aria-labelledby="explainHeader">
                            <div class="card-body">
                                <p>这个题解的思路是先在数组最前面添加一个0作为进位标志，然后从数组末尾开始遍历。如果当前位不为9，直接加1然后结束遍历；如果当前位为9，则将其置为0，继续遍历前一位。最后根据最前面的进位标志是否为0，决定是否要将其去掉。</p>
                                <p>时间复杂度: O(n)</p>
                                <p>空间复杂度: O(1)</p>
                                <pre class="bg-light p-2">class Solution:
    def plusOne(self, digits: List[int]) -&gt; List[int]:
        # 在数组最前面添加一个0作为进位标志
        digits = [0] + digits
        # 从数组末尾开始遍历
        for i in range(len(digits)-1, -1, -1):
            # 如果当前位不为9，直接加1然后结束遍历
            if digits[i] != 9:
                digits[i] += 1
                break
            # 如果当前位为9，则将其置为0，继续遍历前一位
            else:
                digits[i] = 0
        
        # 根据最前面的进位标志是否为0，决定是否要将其去掉
        if digits[0] == 0:
            return digits[1:]
        else:
            return digits</pre>
                            </div>
                        </div>
                    </div>
                </section>
            

            
                <section class="explore-section">
                    <h2>Explore</h2>
                    <div class="accordion" id="exploreAccordion">
                        
                            <div class="card">
                                <div class="card-header" id="exploreHeader1">
                                    <span class="mb-0">
                                        <button class="btn btn-link btn-block text-start collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#exploreCollapse1" aria-expanded="false" aria-controls="exploreCollapse1">
                                            为什么需要在数组最前面添加一个0作为进位标志，而不是直接在原数组上进行操作？ <i class="fas fa-chevron-down float-end"></i>
                                        </button>
                                    </span>
                                </div>
                                <div id="exploreCollapse1" class="collapse" aria-labelledby="exploreHeader1" data-bs-parent="#exploreAccordion">
                                    <div class="card-body">
                                        <p>在数组最前面添加一个0作为进位标志的主要原因是为了简化代码处理进位的逻辑。这种方法避免了在数组的最高位产生进位时需要额外的数组扩展操作。例如，当数组中的所有数字均为9时，其结果需要在最高位前增加一个新的最高位（1），直接在数组前添加一个0可以在一次遍历中解决这个问题，如果最前面的0变为1，则保留，否则去除。这样做可以使代码更为简洁和高效。</p>
                                    </div>
                                </div>
                            </div>
                        
                            <div class="card">
                                <div class="card-header" id="exploreHeader2">
                                    <span class="mb-0">
                                        <button class="btn btn-link btn-block text-start collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#exploreCollapse2" aria-expanded="false" aria-controls="exploreCollapse2">
                                            在处理最高位进位时，如果数字全部是9（例如[9,9,9]），这种方法是否能正确处理并返回正确的结果，如[1,0,0,0]？ <i class="fas fa-chevron-down float-end"></i>
                                        </button>
                                    </span>
                                </div>
                                <div id="exploreCollapse2" class="collapse" aria-labelledby="exploreHeader2" data-bs-parent="#exploreAccordion">
                                    <div class="card-body">
                                        <p>是的，这种方法可以正确处理全部数字为9的情况。例如对于输入[9, 9, 9]，在数组前添加0后变为[0, 9, 9, 9]。从数组末尾开始遍历，每个9都会变成0并继续向前进位，最终数组变为[1, 0, 0, 0]。由于最前面的0变为1，因此不会被去除，最终正确返回[1, 0, 0, 0]。</p>
                                    </div>
                                </div>
                            </div>
                        
                            <div class="card">
                                <div class="card-header" id="exploreHeader3">
                                    <span class="mb-0">
                                        <button class="btn btn-link btn-block text-start collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#exploreCollapse3" aria-expanded="false" aria-controls="exploreCollapse3">
                                            代码中有一个break语句，在某些情况下直接终止循环。这是否意味着不是所有的元素都需要检查或修改？请解释这种情况。 <i class="fas fa-chevron-down float-end"></i>
                                        </button>
                                    </span>
                                </div>
                                <div id="exploreCollapse3" class="collapse" aria-labelledby="exploreHeader3" data-bs-parent="#exploreAccordion">
                                    <div class="card-body">
                                        <p>确实，不是所有的元素都需要检查或修改。break语句的使用是为了提高算法效率，避免不必要的操作。当遍历到数组中的某一个元素并且该元素不是9时，意味着这个位置可以直接加1而不需要进位，因此后续的元素也不需要修改，这时可以直接终止循环。例如，对于输入[1, 2, 3]，加1操作仅发生在最后一个元素上变为[1, 2, 4]，遍历到3时直接将其改为4并终止循环。</p>
                                    </div>
                                </div>
                            </div>
                        
                            <div class="card">
                                <div class="card-header" id="exploreHeader4">
                                    <span class="mb-0">
                                        <button class="btn btn-link btn-block text-start collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#exploreCollapse4" aria-expanded="false" aria-controls="exploreCollapse4">
                                            如果初始数组的所有位都是9，如[9, 9, 9, 9]，请详细说明算法是如何处理这种情况的。 <i class="fas fa-chevron-down float-end"></i>
                                        </button>
                                    </span>
                                </div>
                                <div id="exploreCollapse4" class="collapse" aria-labelledby="exploreHeader4" data-bs-parent="#exploreAccordion">
                                    <div class="card-body">
                                        <p>对于全部都是9的数组[9, 9, 9, 9]，算法首先会在数组前添加一个0，变为[0, 9, 9, 9, 9]。然后从数组的最后一位开始遍历，每个9都会变成0，并且由于持续进位，最前面的0会变成1。所以，最终数组会从[0, 9, 9, 9, 9]变为[1, 0, 0, 0, 0]。由于最前面的0变为1，这个1是必需的，因为它代表了一个新的最高位，最终算法返回[1, 0, 0, 0, 0]。这样处理确保了算法能够有效应对所有元素为9的情况，正确地增加一个位数。</p>
                                    </div>
                                </div>
                            </div>
                        
                    </div>
                </section>
            

            
                <aside class="related-problems-section">
                    <h2>Related Problems</h2>
                    <div class="list-group">
                        
                            <a href="/problem/multiply-strings" class="list-group-item list-group-item-action">
                                字符串相乘
                            </a>
                        
                            <a href="/problem/add-binary" class="list-group-item list-group-item-action">
                                二进制求和
                            </a>
                        
                            <a href="/problem/plus-one-linked-list" class="list-group-item list-group-item-action">
                                给单链表加一
                            </a>
                        
                            <a href="/problem/add-to-array-form-of-integer" class="list-group-item list-group-item-action">
                                数组形式的整数加法
                            </a>
                        
                    </div>
                </aside>
            
        </main>

        <footer class="mt-4 mb-3">
            <div class="d-flex justify-content-between">
                <a href="/problems" class="btn btn-secondary">返回题目列表</a>
            </div>
        </footer>
    </div>
    <script src="https://cdn.bootcdn.net/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <script src="https://cdn.bootcdn.net/ajax/libs/twitter-bootstrap/5.1.0/js/bootstrap.bundle.min.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            fetchInitialCounts();
            setupEventListeners();
        });

        function fetchInitialCounts() {
            fetch('/api/vote_count/plus-one')
                .then(response => response.json())
                .then(data => {
                    document.getElementById('like-count').textContent = data.likes;
                    document.getElementById('dislike-count').textContent = data.dislikes;
                })
                .catch(error => console.error('Error loading initial counts:', error));
        }

        function setupEventListeners() {
            document.getElementById('like-button').addEventListener('click', function() {
                updateVoteCounts('like');
            });

            document.getElementById('dislike-button').addEventListener('click', function() {
                updateVoteCounts('dislike');
            });

            const copyButtons = document.querySelectorAll('.copy-btn');
            copyButtons.forEach(btn => {
                btn.addEventListener('click', function() {
                    copyCode(this);
                });
            });
        }

        function updateVoteCounts(voteType) {
            const baseUrl = "/api/vote/plus-one/PLACEHOLDER";
            const url = baseUrl.replace('PLACEHOLDER', voteType);

            fetch(url, { method: 'POST' })
                .then(response => response.json())
                .then(data => {
                    if (data.likes !== undefined) {
                        document.getElementById('like-count').textContent = data.likes;
                    }
                    if (data.dislikes !== undefined) {
                        document.getElementById('dislike-count').textContent = data.dislikes;
                    }
                })
                .catch(error => console.error('Error updating counts:', error));
        }

        function copyCode(button) {
            const codeBlock = button.previousElementSibling;
            const code = codeBlock.textContent;
            navigator.clipboard.writeText(code).then(function() {
                button.textContent = '已复制';
                setTimeout(function() {
                    button.textContent = '复制代码';
                }, 2000);
            }, function(err) {
                console.error('无法复制代码: ', err);
            });
        }
    </script>
</body>
</html>