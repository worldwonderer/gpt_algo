<!DOCTYPE html>
<html lang="zh">
<head>
    <title>组合总和</title>
    <link rel="shortcut icon" href="/static/favicon.ico">
    <link href="/static/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="/static/css/detail.css">
    <link rel="stylesheet" href="/static/css/github.css">
    <style>
        body {
            height: 100vh;
            display: flex;
            flex-direction: column;
        }
        .container-fluid {
            flex-grow: 1;
            display: flex;
            flex-direction: column;
        }
        main {
            flex-grow: 1;
        }
        .code-pre {
             white-space: pre-wrap;
             word-wrap: break-word;
        }
    </style>
</head>
<body>
    <div class="container-fluid mt-3">
        <header class="d-flex flex-column flex-md-row justify-content-md-between align-items-md-center mb-3">
            <a href="/problems" class="btn btn-secondary mb-2 mb-md-0">返回题目列表</a>
            <div class="text-md-end">
                <strong class="me-md-3 d-block d-md-inline mb-2 mb-md-0">组合总和</strong>
                标签:
                
                    <a href="/problems?tag=array" class="badge bg-secondary tag-link">数组</a>
                
                    <a href="/problems?tag=backtracking" class="badge bg-secondary tag-link">回溯</a>
                
                &nbsp;&nbsp;
                难度: <span class="badge bg-secondary">Medium</span>
            </div>
        </header>

        <main>
            <section class="mb-4">
                <h2>Submission</h2>
                <div class="code-block">
                    <pre class="bg-light p-2 code-pre"><code class="language-python">class Solution:
    def combinationSum(self, candidates: List[int], target: int) -&gt; List[List[int]]:
        ans = []

        def backtrack(path, start):
            s = sum(path)
            if s == target:
                ans.append(list(path))
            if s &gt;= target:
                return

            for i in range(start, len(candidates)):
                path.append(candidates[i])
                backtrack(path, i)
                path.pop()

        backtrack([], 0)
        return ans

</code></pre>
                    <button class="btn btn-sm btn-secondary copy-btn" onclick="copyCode(this)">复制代码</button>
                    <p class="mt-2 mb-0">运行时间: 80 ms</p>
                    <p class="mb-0">内存: 14.8 MB</p>
                </div>
            </section>

            
                <section>
                    <h2>Explain</h2>
                    <div>
                        <p>这个题解采用了回溯算法的思路来解决问题。回溯算法通过递归的方式，在候选数字中做选择，直到找到目标和为 target 的所有组合。具体来说：
1. 首先定义一个用于保存结果的列表 ans。
2. 然后定义一个回溯函数 backtrack，它接受两个参数：当前选择的数字路径 path 和下一个可选数字的起始索引 start。
3. 在回溯函数中，首先计算当前选择数字的总和 s。如果总和等于 target，则将当前路径加入结果列表 ans 中。如果总和已经大于等于 target，则无需继续递归，直接返回。
4. 如果总和小于 target，则从 start 开始遍历 candidates 数组，对于每个数字，将其加入路径 path，然后递归调用 backtrack 函数，更新下一次选择的起始索引为当前索引 i，这样可以重复选择当前数字。
5. 在递归回溯完成后，需要将当前数字从路径 path 中移除，以便尝试其他的选择。
6. 最后，在主函数中调用 backtrack 函数，初始路径为空列表，起始索引为 0，得到所有可能的组合结果。</p>
                        <p>时间复杂度: O(1)</p>
                        <p>空间复杂度: O(target + n)</p>
                        
                             <pre class="bg-light p-2 code-pre"><code class="language-python">class Solution:
    def combinationSum(self, candidates: List[int], target: int) -&gt; List[List[int]]:
        ans = []

        def backtrack(path, start):
            s = sum(path)
            if s == target:
                ans.append(list(path))  # 找到目标和为 target 的组合，加入结果列表
            if s &gt;= target:
                return  # 总和已经大于等于 target，无需继续递归

            for i in range(start, len(candidates)):
                path.append(candidates[i])  # 选择当前数字
                backtrack(path, i)  # 递归调用，可重复选择当前数字
                path.pop()  # 回溯，移除当前选择的数字

        backtrack([], 0)  # 调用回溯函数，初始路径为空，起始索引为 0
        return ans
</code></pre>
                        
                    </div>
                </section>
            
        </main>
    </div>
    <script src="/static/js/jquery.min.js"></script>
    <script src="/static/js/bootstrap.bundle.min.js"></script>
    <script src="/static/js/highlight.min.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const copyButtons = document.querySelectorAll('.copy-btn');
            copyButtons.forEach(btn => {
                btn.addEventListener('click', function() {
                    copyCode(this);
                });
            });
            hljs.highlightAll();
        });

        function copyCode(button) {
            const codeBlock = button.previousElementSibling;
            const code = codeBlock.textContent;
            navigator.clipboard.writeText(code).then(function() {
                button.textContent = '已复制';
                setTimeout(function() {
                    button.textContent = '复制代码';
                }, 2000);
            }, function(err) {
                console.error('无法复制代码: ', err);
            });
        }
    </script>
</body>
</html>